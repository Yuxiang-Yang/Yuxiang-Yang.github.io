import{d as D,a7 as g,c as m,ae as O,N as U,r as C,f as a,a as l,F as X,e as d,l as t,b as V,a4 as B,af as Y,M as F,Q as j,g as M,a1 as A,ag as Q,n as q,ah as I}from"./framework.C67NHIEM.js";import{_ as z}from"./Icon.vue_vue_type_script_setup_true_lang.BRtaCtH0.js";const ae=Symbol("FormContextKey"),G=Symbol("FormItemContextKey"),H={key:0,class:"ch-input__prepend"},J={class:"ch-input__wrapper"},L={key:0,class:"ch-input__prefix"},W=["disabled","type","readonly","autocomplete","placeholder","autofocus","form"],Z={key:1,class:"ch-input__append"},_=["disabled","readonly","autocomplete","placeholder","autofocus","form"],se=D({name:"ChInput",inheritAttrs:!1,__name:"Input",props:I({type:{default:"text"},modelValue:{},size:{},clearable:{type:Boolean},showPassword:{type:Boolean},disabled:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},{modelValue:{},modelModifiers:{}}),emits:I(["change","input","focus","blur","clear","update:modelValue"],["update:modelValue"]),setup(n,{expose:P,emit:T}){const s=T,R=g("input"),E=g("textarea"),h=m(()=>R.value||E.value),o=O(n,"modelValue"),p=U(G,void 0);function c(e){p==null||p.validate(e).catch(()=>{})}const u=C(!1),y=m(()=>n.clearable&&!n.disabled&&o.value&&u.value);function v(e){s("input",e.target.value),c("input")}function b(e){u.value=!0,s("focus",e)}function w(e){u.value=!1,s("blur",e),c("blur")}function K(){o.value="",s("clear"),s("input",""),s("change","")}function k(e){s("change",e.target.value),c("change")}async function N(){var e;await j(),(e=h.value)==null||e.focus()}const i=C(!1),$=m(()=>n.showPassword&&!n.disabled&&o.value);function S(){i.value=!i.value}return P({ref:h}),(e,r)=>(a(),l("div",{class:q(["ch-input",{[`ch-input--${e.type}`]:e.type,[`ch-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":u.value}])},[e.type!=="textarea"?(a(),l(X,{key:0},[e.$slots.prepend?(a(),l("div",H,[d(e.$slots,"prepend")])):t("",!0),V("div",J,[e.$slots.prefix?(a(),l("span",L,[d(e.$slots,"prefix")])):t("",!0),B(V("input",F({ref:"input","onUpdate:modelValue":r[0]||(r[0]=f=>o.value=f)},e.$attrs,{class:"ch-input__inner",disabled:e.disabled,type:e.showPassword?i.value?"text":"password":e.type,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,onFocus:b,onBlur:w,onInput:v,onChange:k}),null,16,W),[[Y,o.value]]),e.$slots.suffix||y.value||$.value?(a(),l("span",{key:1,class:"ch-input__suffix",onClick:N},[d(e.$slots,"suffix"),y.value?(a(),M(z,{key:0,class:"ch-input__clear",icon:"circle-xmark",size:"sm",onClick:K,onMousedown:A(()=>{},["prevent"])})):t("",!0),$.value?(a(),M(z,{key:1,class:"ch-input__password",icon:i.value?"eye":"eye-slash",size:"sm",onClick:S},null,8,["icon"])):t("",!0)])):t("",!0)]),e.$slots.append?(a(),l("div",Z,[d(e.$slots,"append")])):t("",!0)],64)):B((a(),l("textarea",F({key:1,ref:"textarea","onUpdate:modelValue":r[1]||(r[1]=f=>o.value=f),class:"ch-textarea__wrapper",disabled:e.disabled},e.$attrs,{readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,onFocus:b,onBlur:w,onInput:v,onChange:k}),null,16,_)),[[Q,o.value]])],2))}});export{ae as F,se as _,G as a};
